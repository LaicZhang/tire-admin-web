功能模块,API函数,API路径,方法,实现思路,UI组件设计,数据结构,依赖关系,实现难度,备注
发运计划管理,createShippingPlanApi,/logistic/shipping-plan,POST,在物流页面增加"发运计划"Tab,新建ShippingPlanTab组件包含:1)表单(计划名称/计划日期/关联订单/备注)2)提交按钮,"{name:string,planDate:Date,orderUids:string[],remark:string}",需先选择订单才能创建发运计划,中,表单组件可参考order/form.vue
发运计划管理,getShippingPlanListApi,/logistic/shipping-plan/page/:index,GET,在发运计划Tab显示列表,el-table展示:计划编号/计划名称/计划日期/状态/关联订单数/操作,"{list:[{uid,name,planDate,status,orderCount}],total:number}",无,低,分页列表参考现有logistic/index.vue
装车任务管理,createLoadingTaskApi,/logistic/loading-task,POST,在物流页面增加"装车任务"Tab或与发运计划同一Tab,新建LoadingTaskTab组件:1)任务表单(任务名称/车辆信息/司机/装车时间/关联发运计划)2)货物明细列表,"{name:string,vehicle:string,driver:string,loadingTime:Date,planUid:string,items:[]}",需关联发运计划,中,可用el-cascader选择发运计划
装车任务管理,getLoadingTaskListApi,/logistic/loading-task/page/:index,GET,显示装车任务列表,el-table:任务编号/车辆/司机/装车时间/状态/操作,"{list:[{uid,name,vehicle,driver,status}],total:number}",无,低,同上
发货波次管理,createShippingWaveApi,/logistic/shipping-wave,POST,在物流页面增加"发货波次"Tab,新建ShippingWaveTab:1)波次表单(波次名称/发货日期/仓库)2)订单选择器,"{name:string,shippingDate:Date,warehouseUid:string,orderUids:string[]}",需选择仓库和订单,中,可用Transfer组件选择订单
发货波次管理,getShippingWaveListApi,/logistic/shipping-wave/page/:index,GET,显示发货波次列表,el-table:波次编号/波次名称/发货日期/仓库/订单数/状态/操作,"{list:[{uid,name,shippingDate,warehouse,orderCount,status}],total:number}",无,低,同上
物流跟踪界面,getTrackingApi,/logistic/tracking/:trackingNo,GET,在物流详情页增加"物流跟踪"区块,新建TrackingPanel组件:1)el-timeline展示物流节点2)顶部显示快递公司/运单号/状态,"{carrier:string,trackingNo:string,status:string,nodes:[{time,location,description}]}",需要物流单号,低,timeline组件参考el-timeline
物流跟踪界面,syncTrackingApi,/logistic/tracking/sync,POST,在TrackingPanel增加"同步物流"按钮,el-button触发同步请求并刷新timeline,"{trackingNo:string}",无,低,同步完成后自动刷新列表
物流跟踪界面,addTrackingNodeApi,/logistic/tracking/node,POST,在TrackingPanel增加"手动添加节点"按钮,el-dialog弹出表单:时间/地点/描述三个字段,"{trackingNo:string,time:Date,location:string,description:string}",需要物流单号,低,适用于手动录入物流信息
签收回执界面,createDeliveryReceiptApi,/logistic/delivery-receipt,POST,在物流详情页增加"签收回执"区块,新建DeliveryReceiptCard:1)签收表单(签收人/签收时间/签收图片/备注)2)提交按钮,"{logisticUid:string,receiver:string,receiveTime:Date,images:string[],remark:string}",需上传签收图片,中,图片上传用el-upload
配送异常处理,createDeliveryExceptionApi,/logistic/delivery-exception,POST,在物流详情页增加"异常上报"按钮,el-dialog弹出表单:异常类型(下拉)/异常描述/异常图片/处理建议,"{logisticUid:string,type:string,description:string,images:string[],suggestion:string}",需定义异常类型枚举,中,异常类型:破损/丢失/延误/拒收/其他
