# é…ç½®ä¸æ„å»ºå®¡è®¡æŠ¥å‘Š

> å®¡è®¡æ—¶é—´: 2025-12-25 (æœ€ç»ˆæ›´æ–°)
> æ¨¡å—è·¯å¾„: `build/`, `vite.config.ts`, `tsconfig.json`, `eslint.config.js`

---

## æ¨¡å—æ¦‚è§ˆ

| æ–‡ä»¶                | è¡Œæ•° | æè¿°                |
| ------------------- | ---- | ------------------- |
| `tsconfig.json`     | 60   | TypeScript ç¼–è¯‘é…ç½® |
| `vite.config.ts`    | 77   | Vite æ„å»ºé…ç½®       |
| `eslint.config.js`  | 174  | ESLint ä»£ç è§„èŒƒé…ç½® |
| `build/plugins.ts`  | 74   | Vite æ’ä»¶é…ç½®       |
| `build/utils.ts`    | 112  | æ„å»ºå·¥å…·å‡½æ•°        |
| `build/cdn.ts`      | ~50  | CDN åŠ é€Ÿé…ç½®        |
| `build/compress.ts` | ~40  | å‹ç¼©æ’ä»¶é…ç½®        |
| `build/optimize.ts` | ~40  | ä¾èµ–ä¼˜åŒ–é…ç½®        |
| `build/info.ts`     | ~50  | æ„å»ºä¿¡æ¯è¾“å‡º        |

---

## âœ… å·²ä¿®å¤é—®é¢˜

### ~~1. æ’ä»¶è¿”å›ç±»å‹åŒ…å« `null as any`~~ âœ… å·²ä¿®å¤

**ä¿®å¤å†…å®¹**: `build/plugins.ts` å·²æ”¹ç”¨ `.filter(Boolean) as PluginOption[]` è¿‡æ»¤ null å€¼ã€‚

---

## ğŸ”´ ä¸¥é‡é—®é¢˜ (é«˜ä¼˜å…ˆçº§)

### 2. TypeScript ä¸¥æ ¼æ¨¡å¼ç¦ç”¨

**æ–‡ä»¶**: `tsconfig.json`

**å»ºè®®**: åˆ†é˜¶æ®µå¯ç”¨ä¸¥æ ¼æ¨¡å¼

```json
// Phase 1 - ç«‹å³
"noImplicitAny": true,

// Phase 2 - æ¸…ç† any å
"strictFunctionTypes": true,

// Phase 3 - å®Œæ•´å¯ç”¨
"strict": true
```

---

### 3. ESLint å…è®¸ `any` ç±»å‹

**æ–‡ä»¶**: `eslint.config.js`

**å»ºè®®**: é€æ­¥æ”¶ç´§ `@typescript-eslint/no-explicit-any` è§„åˆ™ï¼ˆoff â†’ warn â†’ errorï¼‰

---

## ğŸŸ¡ ä¸­ç­‰é—®é¢˜ (ä¸­ä¼˜å…ˆçº§)

### 4. å¤šä¸ª ESLint è§„åˆ™å…³é—­

**æ–‡ä»¶**: `eslint.config.js`

**å»ºè®®**: é€æ­¥å¯ç”¨ `ban-ts-comment`ã€`no-empty-function`ã€`no-non-null-assertion` ç­‰è§„åˆ™ã€‚

---

## ğŸŸ¢ ä½ç­‰é—®é¢˜ (ä½ä¼˜å…ˆçº§)

### 5. æ„å»ºç›®æ ‡è¾ƒæ—§

**æ–‡ä»¶**: `vite.config.ts`

**å»ºè®®**: æ ¹æ®æµè§ˆå™¨æ”¯æŒæƒ…å†µè€ƒè™‘å‡çº§ `target: "es2020"`

---

## ğŸ“Š é…ç½®å¥åº·åº¦è¯„åˆ†

| ç»´åº¦       | è¯„åˆ†     | è¯´æ˜                                  |
| ---------- | -------- | ------------------------------------- |
| ç±»å‹å®‰å…¨   | â­â­     | strict mode ç¦ç”¨ï¼Œany æ”¾è¡Œ            |
| ä»£ç ä¸€è‡´æ€§ | â­â­â­   | æœ‰ ESLint/Prettierï¼Œä½†è§„åˆ™å®½æ¾        |
| æ„å»ºä¼˜åŒ–   | â­â­â­â­ | CDNã€å‹ç¼©ã€ä»£ç åˆ†å‰²éƒ½æœ‰é…ç½®           |
| å¯ç»´æŠ¤æ€§   | â­â­â­â­ | æ‹¼å†™é”™è¯¯å’Œæ³¨é‡Šä»£ç å·²ä¿®å¤              |
| å®‰å…¨æ€§     | â­â­â­   | åˆ é™¤ consoleï¼Œä½† sourcemap é…ç½®éœ€å®¡æŸ¥ |
